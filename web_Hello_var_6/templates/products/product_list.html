{% extends 'base.html' %}

{% block title %}{{ page_title }}{% endblock %}

{% block content %}
    <h1>üì¶ {{ page_title }}</h1>

    <div style="margin-bottom: 20px;">
        <a href="{% url 'product_create' %}" style="
            background: #4CAF50;
            color: white;
            padding: 10px 15px;
            text-decoration: none;
            border-radius: 4px;
            display: inline-block;
        ">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</a>
    </div>

    <table>
        <tr>
            <th>–§–æ—Ç–æ</th>
            <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
            <th>–¶–µ–Ω–∞</th>
            <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
        </tr>
        {% for product in products %}
        <tr>
            <td>
                {% if product.photo %}
                    <img src="{{ product.photo.url }}" alt="{{ product.name }}" style="width: 50px; height: 50px; object-fit: cover; border-radius: 4px;">
                {% else %}
                    <div style="width: 50px; height: 50px; background: #f0f0f0; display: flex; align-items: center; justify-content: center; border-radius: 4px;">
                        üì∑
                    </div>
                {% endif %}
            </td>
            <td>{{ product.name }}</td>
            <td>{{ product.price }} —Ä—É–±.</td>
            <td>{{ product.category }}</td>
            <td>
                <a href="{% url 'product_update' product.pk %}" style="
                    background: #2196F3;
                    color: white;
                    padding: 5px 10px;
                    text-decoration: none;
                    border-radius: 3px;
                    margin-right: 5px;
                ">‚úèÔ∏è</a>
                <a href="{% url 'product_delete' product.pk %}" style="
                    background: #f44336;
                    color: white;
                    padding: 5px 10px;
                    text-decoration: none;
                    border-radius: 3px;
                ">üóëÔ∏è</a>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="5" style="text-align: center;">–ù–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤</td>
        </tr>
        {% endfor %}
    </table>
{% endblock %}